javascript:(function(){
  try {
    const title = document.title || '';
    const url = window.location.href;
    let favicon = '';

    // Provo a leggere la favicon dal DOM
    const linkIcons = document.querySelectorAll('link[rel~="icon"]');
    if(linkIcons.length){
      // prendo il primo valido
      favicon = linkIcons[0].href || '';
    } else {
      // fallback su /favicon.ico
      favicon = window.location.origin + '/favicon.ico';
    }

    const entry = { title, url, favicon, timestamp: Date.now() };

    // Salvo in localStorage con chiave che LinkZen riconosce
    localStorage.setItem('linkZenNewEntry', JSON.stringify(entry));

    alert('LinkZen: nuovo link salvato per aggiunta automatica.');
  } catch(e){
    alert('Errore nel bookmarklet LinkZen: '+e.message);
  }
})();
